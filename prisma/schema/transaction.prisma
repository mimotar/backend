model Transaction {
  id                      Int             @id @default(autoincrement())
  amount                  Int
  user_id                 Int?            
  additional_agreement    String          @db.VarChar(200)
  creator_fullname        String
  creator_email           String          
  creator_no              String
  creator_address         String?
  receiver_fullname       String
  receiver_no             String
  receiver_address        String?
  link_expires            Boolean         @default(false)
  txn_link                String
  created_at              DateTime        @default(now())
  inspection_duration     Int
  reciever_role           Role
  terms                   String?
  transactionType         TransactionType
  transaction_description String          @db.VarChar(200)
  pay_escrow_fee          EscrowFeePayer
  pay_shipping_cost       EscrowFeePayer
  creator_role            Role
  status                  StatusEnum      @default(ONGOING)
  expiresAt               DateTime
  transactionToken        String          @unique
  reciever_email          String         
  dispute                 Dispute?
  user                    User?           @relation(fields: [user_id], references: [id])
  approveStatus           Boolean         @default(false)

  files                   Json?           @db.Json // Allows up to 2 files with details like name, type, and URL
}





enum EscrowFeePayer {
  BUYER
  SELLER
  BOTH
}

enum Role {
  BUYER
  SELLER
}

enum TransactionType {
  PHYSICAL_PRODUCT
  ONLINE_PRODUCT
  SERVICE
  RENTAL
  MILESTONE_BASED_PROJECT
}

enum StatusEnum {
  CREATED   // Newly created, awaiting approval
  APPROVED  // Approved and ready to proceed, yet to make payment
  ONGOING   // Currently in progress, payment made and is open
  COMPLETED // Successfully finished
  DISPUTE   // Transaction is in dispute
  REJECTED  // Denied approval
  CANCELED  // Manually canceled before completion
}

